<div class="px-2">
    <app-title-card titulo="Historial Clinico de Connie"></app-title-card>
    <!-- contenedor principal-->
    <div class="px-2">
      <!-- Contenerdor principal del filtro y el selector de vista -->
      <div class="d-flex flex-wrap justify-content-between align-items-center mb-3">
      <!-- Contenedor del selector de entradas -->
      <div class="container_select">
        <label class="col" for="selectView">Mostrar</label>
        <select class="custom-select form-select-sm" 
                [(ngModel)]="entradas" 
                name="entradas">
          <option value="5" selected>5</option>
          <option value="10">10</option>
          <option value="15">15</option>
          <option value="20">20</option>
        </select>
        <label class="col" for="selectView">entradas</label>
      </div> 
      <!-- Contenedor del input buscar -->
      <div class="container_filter">
        <input type="date" 
                class="form-control" 
                [(ngModel)]="fechaBuscar" (change)="resetearPaginas()"/>
      </div>
      </div>
        <!-- contenedor de todas los cards -->
        <div class="card container_card p-lg-4">
            <!-- Contnedor de la card -->
            <div *ngFor="let historial of allHistorialClinico | filtroHistorialClinico:fechaBuscar:page:entradas" 
            class="card mb-3">   
                <div class="card-body">
                    <div class="card-body-icon">
                        <i class="bi bi-file-text"></i>
                    </div>
                    <div class="card-body-text">
                        <h2>Historial clinico # {{ historial.idHistoriaCli }}</h2> 
                        <h4>Fecha: {{ historial.fechaIngreso | date }}</h4>
                    </div>
                </div>
                <button class="btn btn-primary">Ver Detalles</button>
            </div>               
        </div>
        <div class="container_pagination">
            <span *ngIf="+entradas > (allHistorialClinico | filtroHistorialClinico:fechaBuscar:page:entradas).length;
                  then mostrarEntradasImpares
                  else mostrarEntradasPares">
            </span>
            <ng-template #mostrarEntradasPares>
              <div class="fs-6">
                Mostrando {{ page + 1 }} - {{ page + +entradas }} entradas de {{ allHistorialClinico.length }}
              </div>
            </ng-template>
            <ng-template #mostrarEntradasImpares>
              <div class="fs-6">
                Mostrando {{page + 1}} - {{ page + (allHistorialClinico | filtroHistorialClinico:fechaBuscar:page:entradas).length }}
                de {{ allHistorialClinico.length }}
              </div>  
            </ng-template>
            <div class="container_buttons_navigation ">
              <button class="btn btn-outline-primary" 
                      (click)="paginaAnterior()"
                      [disabled]="page === 0">
                      <i class="bi bi-arrow-left"></i> 
                      Anterior </button>
              <button class="btn btn-outline-primary" 
                      (click)="paginaSiguiente()"
                      [disabled]="+entradas > (allHistorialClinico | filtroHistorialClinico:fechaBuscar:page:entradas).length"> 
                      Siguiente 
                      <i class="bi bi-arrow-right"></i></button>
            </div>
        </div>
    </div>
</div>
